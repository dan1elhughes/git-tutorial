<!DOCTYPE html>
<html>
<head>
<title>Getting started with Git</title>
<meta charset="utf-8">
<link rel="icon" href="http://www.heathwallace.com/static/favicon.png" />
<style type="text/css">
@import url(https://fonts.googleapis.com/css?family=Lato|Inconsolata);

body {
	background: #34495e;
}

body, h1, h2, h3 {
	font-family: 'Lato';
	color: #212121
}

h1, h2, h3 {
	font-weight: normal;
	margin-top: 0.25em;
}

h1 {
	border-bottom: 1px solid #eee;
}

.remark-inline-code, .remark-code {
	font-family: 'Inconsolata';
	background: #eee;
	color: #000;
	padding-left: 0.1em;
	padding-right: 0.1em;
}

.remark-code {
	display: block;
}

.icon {
	bottom: 0px;
	left: 0px;
	position: absolute;
	padding: 0.5em 1em;
}

ul li {
	margin: 0.5em 0;
}
</style>
</head>
<body>
<textarea id="source">

class: center, middle

# Getting started with Git

[Dan Hughes](mailto:dan.hughes@heathwallace.com), Placement JavaScript Developer

1st July 2016

.icon[![](http://www.heathwallace.com/static/favicon.png)]

???

- Building a commit
- Branching
- Merging
- Collaborating
- Rewriting history
- Cheat sheet
- These are the components of Git Flow

---

# Building a commit

![](https://www.atlassian.com/git/images/tutorials/getting-started/saving-changes/01.svg)

- `git add` to add a file to staging
- `git commit` to create a commit from the contents of staging

- In HG, you mark a file as being part of the next commit. If the source file changes then the contents of the next commit changes.

???

- Allows you to make many unrelated changes in many or even a single file, and still have atomic commits

---

# Branching

![](https://www.atlassian.com/git/images/tutorials/collaborating/using-branches/hero.svg)

- `git branch` to list branches
- `git branch feature-foobar` to create a new branch
- `git checkout feature-foobar` to select a branch
- `git branch -d feature-foobar` to delete a branch

???

- In gitflow, everything should be done in a branch with a pull request, no matter how small.
- Branches are cheap and not designed to last a long time
- `git branch feature-foobar` does not check out the branch, because branches are just pointers

---

## Branches are just pointers

![](https://www.atlassian.com/git/images/tutorials/collaborating/using-branches/02.svg)

---

## Branches are just pointers

![](https://www.atlassian.com/git/images/tutorials/collaborating/using-branches/03.svg)

???

- In `hg`, this would create a new commit. In `git` it creates a marker
- We still need to checkout the branch and create some commits on it

---

# Merging

- Standard merge
- Fast-forward merge

---

## Standard merge

![](http://pic002.cnblogs.com/images/2012/407713/2012081915204638.png)

???

- When to use: When merging pull requests, a "symbolic" merge.

---

## Fast-forward merge

![](http://pic002.cnblogs.com/images/2012/407713/2012081915245240.png)

- Because branches are pointers, we can simply move the pointer

???

- When to use: When integrating someone elses work on the same feature

---

# Merging

- Git will decide the type of merge automatically; if there's no point creating a merge commit, it won't
- It's possible to force a merge commit with `--no-ff`:

![](http://www.bogotobogo.com/cplusplus/images/Git/Fast_Forward_Merge/FastForwardMergeWith_no_ff.png)

---

## Fixing merge conflicts

- See "Building a commit" above!
- The exact same edit, stage, commit workflow:
	- Edit the conflicted file
	- `git add file`
	- `git commit 'Resolve merge conflicts'`

---

# Collaborating (`pull` and `push`)

- `git pull` is actually *two* commands:
	- `git fetch` to update our cache of the remote branch
	- `git merge` to merge remote branch into our own (**might make a merge commit**)

- `git push` sends our commits to the remote and triggers it to perform a merge.
	- (**Fails if it needs a merge commit**)

???

- We don't want merge commits on pull, as it's not a logical merge of two features.
- We don't want merge commits on push, as the server can't work out conflicts
---

## Fetching with `git pull --rebase`

![](https://i.stack.imgur.com/5yRg3.png)

- “I want to put my changes on top of what anybody else has done.”
- This is so common that there's a built-in setting to make it default:
- `git config --global branch.autosetuprebase always`

---

## Pushing with `git push`

- Opposite of `git fetch`, the server runs `git merge` for us
- **Must** be a fast-forward merge on the server side

--
- .. Except if you ask it nicely with `--force`. This can **delete** commits.
- Only allowed on feature branches, and still need to be careful

???

- Can delete commits because you are overwriting the entire remote, even if someone else pushed commits after you started work

---

# Rewriting history

- Amending mistakes in the last commit
- Incorporating dev commits into feature branch
- Tidying up a feature branch for a pull request

#### Only rewrite commits that haven't been pushed!

- Rewriting changes the internal tree structure and will break the repository of anyone who pulled between the original push and the rewritten push.

---

## `git commit --amend`

- Squash my most recent commit together with the current stage
- Asks for a commit message
- Usage:
	- Forgotten files
	- Mis-typed commit messages

---

## Rebasing

- Moving the base commit of a branch (to maintain a linear project history)

![](https://www.atlassian.com/git/images/tutorials/getting-started/rewriting-history/02.svg)

---

## Interactive rebasing

- Complete freedom over project history
- Commit a messy history as you work, rewrite it to a clean history later
- To everybody else, it will look like the entire feature was developed in a single series of well-planned commits

---

## Interactive rebasing

```
pick 32618c4 Implement feature
pick 62eed47 Fix something from the previous commit
```

...

```
pick 32618c4 Implement feature
squash 62eed47 Fix something from the previous commit
```

???
- Demo

---

# Cheat sheet

#### Adding files
- `git add <file>`
- `git commit`

#### Creating a feature branch

- `git branch feature-foobar`
- `git checkout feature-foobar`

#### Merging

- `git merge mybranch otherbranch`

#### Collaborating

- `git pull --rebase`
- `git push`

---

# Cheat sheet

#### Fixing mistakes

- `git commit --amend`

#### Preparing a pull request

- `git rebase feature-foobar dev` OR
- `git rebase -i feature-foobar dev` if there are things to fix

---

class: center, middle

# Finito

> This presentation is available with notes from [this Stash repo](https://stash.mirum.agency:8443/users/ddhughes/repos/learning-git).

> Built with [RemarkJS](https://github.com/gnab/remark)


</textarea>
<script src="https://gnab.github.io/remark/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create();</script>
</body>
</html>
